<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document " prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#">
<head><meta lang="" property="dc:language" content="en">
    <style>/* --- WEB IDL --- */
pre.idl {
    border-top: 1px solid #90b8de;
    border-bottom: 1px solid #90b8de;
    padding:    1em;
    line-height:    120%;
}

pre.idl::before {
    content:    "WebIDL";
    display:    block;
    width:      150px;
    background: #90b8de;
    color:  #fff;
    font-family:    sans-serif;
    padding:    3px;
    font-weight:    bold;
    margin: -1em 0 1em -1em;
}

.idlType {
    color:  #ff4500;
    font-weight:    bold;
    text-decoration:    none;
}

/*.idlModule*/
/*.idlModuleID*/
/*.idlInterface*/
.idlInterfaceID, .idlDictionaryID, .idlCallbackID, .idlEnumID {
    font-weight:    bold;
    color:  #005a9c;
}
a.idlEnumItem {
    color:  #000;
    border-bottom:  1px dotted #ccc;
    text-decoration: none;
}

.idlSuperclass {
    font-style: italic;
    color:  #005a9c;
}

/*.idlAttribute*/
.idlAttrType, .idlFieldType, .idlMemberType {
    color:  #005a9c;
}
.idlAttrName, .idlFieldName, .idlMemberName {
    color:  #ff4500;
}
.idlAttrName a, .idlFieldName a, .idlMemberName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlMethod*/
.idlMethType, .idlCallbackType {
    color:  #005a9c;
}
.idlMethName {
    color:  #ff4500;
}
.idlMethName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlCtor*/
.idlCtorName {
    color:  #ff4500;
}
.idlCtorName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlParam*/
.idlParamType {
    color:  #005a9c;
}
.idlParamName, .idlDefaultValue {
    font-style: italic;
}

.extAttr {
    color:  #666;
}

/*.idlSectionComment*/
.idlSectionComment {
    color: gray;
}

/*.idlIterable*/
.idlIterableKeyType, .idlIterableValueType {
    color:  #005a9c;
}

/*.idlMaplike*/
.idlMaplikeKeyType, .idlMaplikeValueType {
    color:  #005a9c;
}

/*.idlConst*/
.idlConstType {
    color:  #005a9c;
}
.idlConstName {
    color:  #ff4500;
}
.idlConstName a {
    color:  #ff4500;
    border-bottom:  1px dotted #ff4500;
    text-decoration: none;
}

/*.idlException*/
.idlExceptionID {
    font-weight:    bold;
    color:  #c00;
}

.idlTypedefID, .idlTypedefType {
    color:  #005a9c;
}

.idlRaises, .idlRaises a.idlType, .idlRaises a.idlType code, .excName a, .excName a code {
    color:  #c00;
    font-weight:    normal;
}

.excName a {
    font-family:    monospace;
}

.idlRaises a.idlType, .excName a.idlType {
    border-bottom:  1px dotted #c00;
}

.excGetSetTrue, .excGetSetFalse, .prmNullTrue, .prmNullFalse, .prmOptTrue, .prmOptFalse {
    width:  45px;
    text-align: center;
}
.excGetSetTrue, .prmNullTrue, .prmOptTrue { color:  #0c0; }
.excGetSetFalse, .prmNullFalse, .prmOptFalse { color:  #c00; }

.idlImplements a {
    font-weight:    bold;
}

dl.attributes, dl.methods, dl.constants, dl.constructors, dl.fields, dl.dictionary-members {
    margin-left:    2em;
}

.attributes dt, .methods dt, .constants dt, .constructors dt, .fields dt, .dictionary-members dt {
    font-weight:    normal;
}

.attributes dt code, .methods dt code, .constants dt code, .constructors dt code, .fields dt code, .dictionary-members dt code {
    font-weight:    bold;
    color:  #000;
    font-family:    monospace;
}

.attributes dt code, .fields dt code, .dictionary-members dt code {
    background:  #ffffd2;
}

.attributes dt .idlAttrType code, .fields dt .idlFieldType code, .dictionary-members dt .idlMemberType code {
    color:  #005a9c;
    background:  transparent;
    font-family:    inherit;
    font-weight:    normal;
    font-style: italic;
}

.methods dt code {
    background:  #d9e6f8;
}

.constants dt code {
    background:  #ddffd2;
}

.constructors dt code {
    background:  #cfc;
}

.attributes dd, .methods dd, .constants dd, .constructors dd, .fields dd, .dictionary-members dd {
    margin-bottom:  1em;
}

table.parameters, table.exceptions {
    border-spacing: 0;
    border-collapse:    collapse;
    margin: 0.5em 0;
    width:  100%;
}
table.parameters { border-bottom:  1px solid #90b8de; }
table.exceptions { border-bottom:  1px solid #deb890; }

.parameters th, .exceptions th {
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    font-weight:    normal;
    text-shadow:    #666 1px 1px 0;
}
.parameters th { background: #90b8de; }
.exceptions th { background: #deb890; }

.parameters td, .exceptions td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    vertical-align: top;
}

.parameters tr:first-child td, .exceptions tr:first-child td {
    border-top: none;
}

.parameters td.prmName, .exceptions td.excName, .exceptions td.excCodeName {
    width:  100px;
}

.parameters td.prmType {
    width:  120px;
}

table.exceptions table {
    border-spacing: 0;
    border-collapse:    collapse;
    width:  100%;
}
</style><link href="MediaRecorder.css" rel="stylesheet" type="text/css">
    <title>MediaStream Recording</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    

  <style>/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* --- INLINES --- */
em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
}

h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
}

dfn {
    font-weight:    bold;
}

a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
}

a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
}

a.bibref {
    text-decoration:    none;
}

cite .bibref {
    font-style: normal;
}

code {
    color:  #C83500;
}

/* --- TOC --- */
.toc a, .tof a {
    text-decoration:    none;
}

a .secno, a .figno {
    color:  #000;
}

ul.tof, ol.tof {
    list-style: none outside none;
}

.caption {
    margin-top: 0.5em;
    font-style:   italic;
}

/* --- TABLE --- */
table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
}

.simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
}

.simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
}

.simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
    background: #f0f6ff;
}

/* --- DL --- */
.section dd > p:first-child {
    margin-top: 0;
}

.section dd > p:last-child {
    margin-bottom: 0;
}

.section dd {
    margin-bottom:  1em;
}

.section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
}

@media print {
    .removeOnSave {
        display: none;
    }
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-ED"><!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]--><script id="initialUserConfig" type="application/json">{
  "specStatus": "ED",
  "editors": [
    {
      "name": "Miguel Casas-Sanchez",
      "company": "Google, Inc.",
      "companyURL": "http://www.google.com",
      "url": "mailto:mcasas@chromium.org?subject=MediaStream%20Recording%W3C%Spec",
      "w3cid": 82825
    },
    {
      "name": "Jim Barnett",
      "company": "Genesys",
      "w3cid": 34604,
      "note": "Former editor"
    },
    {
      "name": "Travis Leithead",
      "company": "Microsoft Corp.",
      "url": "mailto:travis.leithead@microsoft.com?subject=MediaStream%20Capture%20Scenarios%20Feedback",
      "companyURL": "http://www.microsoft.com",
      "w3cid": 40117,
      "note": "Former editor"
    }
  ],
  "edDraftURI": "http://w3c.github.io/mediacapture-record/MediaRecorder.html",
  "previousPublishDate": null,
  "prevED": "http://w3c.github.io/mediacapture-record/archives/20150819/MediaRecorder.html",
  "noIDLIn": true,
  "inlineCSS": true,
  "noRecTrack": false,
  "copyrightStart": 2012,
  "shortName": "mediastream-recording",
  "wg": [
    "Device APIs Working Group",
    "Web Real-Time Communications Working Group"
  ],
  "wgURI": [
    "http://www.w3.org/2009/dap/",
    "http://www.w3.org/2011/04/webrtc/"
  ],
  "wgPublicList": "public-media-capture",
  "wgPatentURI": [
    "http://www.w3.org/2004/01/pp-impl/43696/status",
    "http://www.w3.org/2004/01/pp-impl/47318/status"
  ]
}</script></head>


<body class="h-entry" role="document" id="respecDocument"><div class="head" role="contentinfo" id="respecHeader">
  <p>
      
        
            <a class="logo" href="http://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/Icons/w3c_home" alt="W3C"></a>
            
            
        
      
  </p>
  <h1 class="title p-name" id="title" property="dcterms:title">MediaStream Recording</h1>
  
  <h2 id="w3c-editor-s-draft-10-december-2015"><abbr title="World Wide Web Consortium">W3C</abbr> Editor's Draft <time property="dcterms:issued" class="dt-published" datetime="2015-12-10">10 December 2015</time></h2>
  <dl>
    
      <dt>This version:</dt>
      <dd><a class="u-url" href="http://w3c.github.io/mediacapture-record/archives/20151210/MediaRecorder.html">http://w3c.github.io/mediacapture-record/archives/20151210/MediaRecorder.html</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="http://www.w3.org/TR/mediastream-recording/">http://www.w3.org/TR/mediastream-recording/</a></dd>
    
    
      <dt>Latest editor's draft:</dt>
      <dd><a href="http://w3c.github.io/mediacapture-record/MediaRecorder.html">http://w3c.github.io/mediacapture-record/MediaRecorder.html</a></dd>
    
    
    
    
    
      
        <dt>Previous editor's draft:</dt>
        <dd><a href="http://w3c.github.io/mediacapture-record/archives/20150819/MediaRecorder.html">http://w3c.github.io/mediacapture-record/archives/20150819/MediaRecorder.html</a></dd>
      
    
    
    
    <dt>Editors:</dt>
    <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0" data-editor-id="82825"><span property="rdf:first" typeof="foaf:Person"><meta property="foaf:name" content="Miguel Casas-Sanchez"><a class="u-url url p-name fn" property="foaf:homepage" href="mailto:mcasas@chromium.org?subject=MediaStream%20Recording%W3C%Spec">Miguel Casas-Sanchez</a>, <a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://www.google.com">Google, Inc.</a></span>
<span property="rdf:rest" resource="_:editor1"></span>
</dd>
<dd class="p-author h-card vcard" resource="_:editor1" data-editor-id="34604"><span property="rdf:first" typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Jim Barnett</span>, Genesys (Former editor)</span>
<span property="rdf:rest" resource="_:editor2"></span>
</dd>
<dd class="p-author h-card vcard" resource="_:editor2" data-editor-id="40117"><span property="rdf:first" typeof="foaf:Person"><meta property="foaf:name" content="Travis Leithead"><a class="u-url url p-name fn" property="foaf:homepage" href="mailto:travis.leithead@microsoft.com?subject=MediaStream%20Capture%20Scenarios%20Feedback">Travis Leithead</a>, <a property="foaf:workplaceHomepage" class="p-org org h-org h-card" href="http://www.microsoft.com">Microsoft Corp.</a> (Former editor)</span>
<span property="rdf:rest" resource="rdf:nil"></span>
</dd>

    
    
  </dl>
  
  
  
  
    
      <p class="copyright">
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2012-2015
        
        <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). 
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        
          
            <a rel="license" href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
          
        
        rules apply.
      </p>
    
  
  <hr title="Separator for header">
</div>
 <section id="abstract" class="introductory" property="dc:abstract"><h2 id="h-abstract" resource="#h-abstract"><span property="xhv:role" resource="xhv:heading">Abstract</span></h2>
  <p>This document defines a recording API for use with MediaStreams as defined in [<cite><a class="bibref" href="#bib-GETUSERMEDIA">GETUSERMEDIA</a></cite>]</p>
 </section><section id="sotd" class="introductory"><h2 id="h-sotd" resource="#h-sotd"><span property="xhv:role" resource="xhv:heading">Status of This Document</span></h2>
  
    
      
        <p>
          <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at http://www.w3.org/TR/.</em>
        </p>
        
          
          
  <p>This document is not complete. It is subject to major changes and, while early experimentations are encouraged, it is therefore not intended for implementation. The Media Capture Task Force expects this specification to evolve significantly based on: </p>
  <ul>
   <li>Privacy issues that arise when capturing media.</li>
   <li>Technical discussions within the task force.</li>
   <li>Experience gained through early experimentations.</li>
   <li>Feedback received from other groups and individuals.</li>
  </ul>
 
          
          <p>
            This document was published by the <a href="http://www.w3.org/2009/dap/">Device APIs Working Group</a> and the <a href="http://www.w3.org/2011/04/webrtc/">Web Real-Time Communications Working Group</a> as an Editor's Draft.
            
            
              If you wish to make comments regarding this document, please send them to
              <a href="mailto:public-media-capture@w3.org">public-media-capture@w3.org</a>
              (<a href="mailto:public-media-capture-request@w3.org?subject=subscribe">subscribe</a>,
              <a href="http://lists.w3.org/Archives/Public/public-media-capture/">archives</a>).
            
            
            
            
            
              
              All comments are welcome.
              
            
          </p>
          
          
          
            <p>
              Publication as an Editor's Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
              Membership. This is a draft document and may be updated, replaced or obsoleted by other
              documents at any time. It is inappropriate to cite this document as other than work in
              progress.
            </p>
          
          
          
          <p>
            
              This document was produced by
              
              groups
               operating under the
              <a id="sotd_patent" property="w3p:patentRules" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
              Policy</a>.
            
            
            
              
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="http://www.w3.org/2004/01/pp-impl/43696/status" rel="disclosure">public list of any patent disclosures  (Device APIs Working Group)</a> and a <a href="http://www.w3.org/2004/01/pp-impl/47318/status" rel="disclosure">public list of any patent disclosures  (Web Real-Time Communications Working Group)</a>
              
              made in connection with the deliverables of
              
              each group; these pages also include
              
              instructions for disclosing a patent. An individual who has actual knowledge of a patent
              which the individual believes contains
              <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
              Claim(s)</a> must disclose the information in accordance with
              <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
              6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
            
            
          </p>
          
            <p>This document is governed by the <a id="w3c_process_revision" href="http://www.w3.org/2015/Process-20150901/">1 September 2015 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
            </p>
          
          
        
      
    
  
</section><section id="toc"><h2 class="introductory" id="h-toc" resource="#h-toc"><span property="xhv:role" resource="xhv:heading">Table of Contents</span></h2><ul class="toc" role="directory"><li class="tocline"><a href="#overview" class="tocxref"><span class="secno">1. </span>Overview</a></li><li class="tocline"><a href="#not-conformance" class="tocxref"><span class="secno">2. </span>Conformance</a></li><li class="tocline"><a href="#MediaRecorderAPI" class="tocxref"><span class="secno">3. </span>Media Recorder API</a><ul class="toc"><li class="tocline"><a href="#constructors" class="tocxref"><span class="secno">3.1 </span>Constructors</a></li><li class="tocline"><a href="#attributes" class="tocxref"><span class="secno">3.2 </span>Attributes</a></li><li class="tocline"><a href="#methods" class="tocxref"><span class="secno">3.3 </span>Methods</a></li><li class="tocline"><a href="#RecordingState" class="tocxref"><span class="secno">3.4 </span>RecordingState</a></li></ul></li><li class="tocline"><a href="#blob-event" class="tocxref"><span class="secno">4. </span>Blob Event</a><ul class="toc"><li class="tocline"><a href="#constructors-1" class="tocxref"><span class="secno">4.1 </span>Constructors</a></li><li class="tocline"><a href="#attributes-1" class="tocxref"><span class="secno">4.2 </span>Attributes</a></li><li class="tocline"><a href="#dictionary-blobeventinit-members" class="tocxref"><span class="secno">4.3 </span>Dictionary <span class="formerLink"><code>BlobEventInit</code></span> Members</a></li></ul></li><li class="tocline"><a href="#properties" class="tocxref"><span class="secno">5. </span>MediaRecorder  Properties</a></li><li class="tocline"><a href="#error-handling" class="tocxref"><span class="secno">6. </span>Error Handling</a><ul class="toc"><li class="tocline"><a href="#general-principles" class="tocxref"><span class="secno">6.1 </span>General Principles</a></li><li class="tocline"><a href="#MediaRecorderErrorEvent" class="tocxref"><span class="secno">6.2 </span>MediaRecorderErrorEvent</a><ul class="toc"><li class="tocline"><a href="#attributes-2" class="tocxref"><span class="secno">6.2.1 </span>Attributes</a></li></ul></li><li class="tocline"><a href="#recordingerrorname" class="tocxref"><span class="secno">6.3 </span>RecordingErrorName</a></li><li class="tocline"><a href="#exception-summary" class="tocxref"><span class="secno">6.4 </span>Exception summary</a></li></ul></li><li class="tocline"><a href="#event-summary" class="tocxref"><span class="secno">7. </span>Event summary</a></li><li class="tocline"><a href="#change-log" class="tocxref"><span class="secno">8. </span>Change Log</a></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">A. </span>References</a><ul class="toc"><li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">A.1 </span>Normative references</a></li></ul></li></ul></section>

 

 <section id="overview" class="informative" typeof="bibo:Chapter" resource="#overview" property="bibo:hasPart"><!--OddPage--><h2 id="h-overview" resource="#h-overview"><span property="xhv:role" resource="xhv:heading"><span class="secno">1. </span>Overview</span></h2><p><em>This section is non-normative.</em></p>
  <p>This API attempts to make basic recording very simple, while still allowing for more complex use cases.  In the simplest case, the application instatiates the MediaRecorder object, calls record() and then calls stop() or waits for the MediaStream to be ended.  The contents of the recording will be made available in the platform's default encoding via the dataavailable event.  Functions are available to query the platform's available set of encodings, and to select the desired ones if the author wishes.  The application can also choose how much data it wants to receive at one time.  By default a Blob containing the entire recording is returned when the recording finishes.  However the application can choose to receive smaller buffers of data at regular intervals.  </p>
 </section>

 <section id="not-conformance" class="informative" typeof="bibo:Chapter" resource="#not-conformance" property="bibo:hasPart"><!--OddPage--><h2 id="h-not-conformance" resource="#h-not-conformance"><span property="xhv:role" resource="xhv:heading"><span class="secno">2. </span>Conformance</span></h2><p><em>This section is non-normative.</em></p>
  <p>This specification defines conformance criteria that apply to a single product: the <dfn data-dfn-type="dfn" id="dfn-user-agent">user agent</dfn> that implements the interfaces that it contains.</p>

  <p>Conformance requirements phrased as algorithms or specific steps may be implemented in any manner, so long as the end result is equivalent to the behavior specified in this document. </p>

  <p>Implementations that use ECMAScript to implement the APIs defined in this specification must implement them in a manner consistent with the ECMAScript Bindings defined in the Web IDL specification [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>], as this specification uses that specification and terminology.</p>
  <p></p>
 </section>

 <section id="MediaRecorderAPI" typeof="bibo:Chapter" resource="#MediaRecorderAPI" property="bibo:hasPart"><!--OddPage--><h2 id="h-mediarecorderapi" resource="#h-mediarecorderapi"><span property="xhv:role" resource="xhv:heading"><span class="secno">3. </span>Media Recorder API</span></h2>
   <pre class="idl"><span class="idlInterface" id="idl-def-MediaRecorder">[<span class="idlCtor"> <span class="idlCtorKeyword"></span><span class="idlCtorName"><a href="#widl-ctor-MediaRecorder--MediaStream-stream-DOMString-mimeType">Constructor</a></span> (<span class="idlParam"><span class="idlParamType">MediaStream</span> <span class="idlParamName">stream</span></span>, <span class="idlParam">optional <span class="idlParamType">DOMString</span> <span class="idlParamName">mimeType</span></span>)</span>]
interface <span class="idlInterfaceID">MediaRecorder</span> : <span class="idlSuperclass">EventTarget</span> {
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType">MediaStream</span>    <span class="idlAttrName"><a href="#widl-MediaRecorder-stream">stream</a></span>;</span>
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType">DOMString</span>      <span class="idlAttrName"><a href="#widl-MediaRecorder-mimeType">mimeType</a></span>;</span>
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType"><a href="#idl-def-RecordingState" class="idlType"><code>RecordingState</code></a></span> <span class="idlAttrName"><a href="#widl-MediaRecorder-state">state</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-onstart">onstart</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-onstop">onstop</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-ondataavailable">ondataavailable</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-onpause">onpause</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-onresume">onresume</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">EventHandler</span>   <span class="idlAttrName"><a href="#widl-MediaRecorder-onerror">onerror</a></span>;</span>
<span class="idlAttribute">                    attribute <span class="idlAttrType">boolean</span>        <span class="idlAttrName"><a href="#widl-MediaRecorder-ignoreMutedMedia">ignoreMutedMedia</a></span>;</span>
<span class="idlMethod">    <span class="idlMethType">void</span>        <span class="idlMethName"><a href="#widl-MediaRecorder-start-void-long-timeslice">start</a></span> (<span class="idlParam">optional <span class="idlParamType">long</span> <span class="idlParamName">timeslice</span></span>);</span>
<span class="idlMethod">    <span class="idlMethType">void</span>        <span class="idlMethName"><a href="#widl-MediaRecorder-stop-void">stop</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType">void</span>        <span class="idlMethName"><a href="#widl-MediaRecorder-pause-void">pause</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType">void</span>        <span class="idlMethName"><a href="#widl-MediaRecorder-resume-void">resume</a></span> ();</span>
<span class="idlMethod">    <span class="idlMethType">void</span>        <span class="idlMethName"><a href="#widl-MediaRecorder-requestData-void">requestData</a></span> ();</span>
<span class="idlMethod">    static <span class="idlMethType">bool</span> <span class="idlMethName"><a href="#widl-MediaRecorder-isTypeSupported-bool-DOMString-type">isTypeSupported</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">type</span></span>);</span>
};</span></pre><section id="constructors" typeof="bibo:Chapter" resource="#constructors" property="bibo:hasPart"><h3 id="h-constructors" resource="#h-constructors"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.1 </span>Constructors</span></h3><dl class="constructors"><dt id="widl-ctor-MediaRecorder--MediaStream-stream-DOMString-mimeType"><code>MediaRecorder</code></dt><dd>
     
    <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">stream</td><td class="prmType"><code>MediaStream</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">The MediaStream to be recorded.  This will be the value of the <code>stream</code> attribute. See [<cite><a class="bibref" href="#bib-GETUSERMEDIA">GETUSERMEDIA</a></cite>] for the definition of MediaStream.</td></tr><tr><td class="prmName">mimeType</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptTrue"><span role="img" aria-label="True">✔</span></td><td class="prmDesc">The container format for the recording, which may include any parameters that are defined for the format.  If the UA does not support the format or any of the parameters specified, it <em title="must" class="rfc2119"> must </em> throw an <code>NotSupportedError</code> DOMException. If this paramater is not specified, the UA will use a platform-specific default format.  The container format, whether passed in to the constructor or defaulted, will be used as the value of the <code>mimeType</code> attribute.
      </td></tr></tbody></table></dd></dl></section><section id="attributes" typeof="bibo:Chapter" resource="#attributes" property="bibo:hasPart"><h3 id="h-attributes" resource="#h-attributes"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2 </span>Attributes</span></h3><dl class="attributes"><dt id="widl-MediaRecorder-ignoreMutedMedia"><code>ignoreMutedMedia</code> of type <span class="idlAttrType">boolean</span></dt><dd>If this attribute is set to <code>true</code>, the MediaRecorder will not record anything when the input Media Stream is muted.  If this attribute is <code>false</code>, the MediaRecorder will record silence (for audio) and black frames (for video) when the input MediaStream is muted.  When the MediaRecorder is created, the UA <em title="must" class="rfc2119">must</em> set this attribute to <code>false</code>.</dd><dt id="widl-MediaRecorder-mimeType"><code>mimeType</code> of type <span class="idlAttrType">DOMString</span>, readonly       </dt><dd>The MIME type that has been selected as the container for recording. This entry includes all the parameters to the base MimeType. The UA should be able to play back any of the MIME types it supports for recording. For example, it should be able to display a video recording in the HTML &lt;video&gt; tag. The default value for this property is platform-specific. Note that the mimeType specifies the container format for the recording, and that the codecs that the recording contains will normally be specified as parameters to it. </dd><dt id="widl-MediaRecorder-ondataavailable"><code>ondataavailable</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle the dataavailable event.  Note that the Blob (see [<cite><a class="bibref" href="#bib-FILE-API">FILE-API</a></cite>]) of recorded data is contained in this event and can be accessed via the 'data' attribute.</dd><dt id="widl-MediaRecorder-onerror"><code>onerror</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle a MediaRecorderErrorEvent. </dd><dt id="widl-MediaRecorder-onpause"><code>onpause</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle the pause event. </dd><dt id="widl-MediaRecorder-onresume"><code>onresume</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle the resume event. </dd><dt id="widl-MediaRecorder-onstart"><code>onstart</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle the start event.</dd><dt id="widl-MediaRecorder-onstop"><code>onstop</code> of type <span class="idlAttrType">EventHandler</span></dt><dd>Called to handle the stop event.</dd><dt id="widl-MediaRecorder-state"><code>state</code> of type <span class="idlAttrType"><a href="#idl-def-RecordingState" class="idlType"><code>RecordingState</code></a></span>, readonly       </dt><dd> The current state of the MediaRecorder object.	When the MediaRecorder is created, the UA <em title="must" class="rfc2119">must</em> set this attribute to <code>inactive</code>.</dd><dt id="widl-MediaRecorder-stream"><code>stream</code> of type <span class="idlAttrType">MediaStream</span>, readonly       </dt><dd>The MediaStream to be recorded.  </dd></dl></section><section id="methods" typeof="bibo:Chapter" resource="#methods" property="bibo:hasPart"><h3 id="h-methods" resource="#h-methods"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.3 </span>Methods</span></h3><dl class="methods"><dt id="widl-MediaRecorder-isTypeSupported-bool-DOMString-type"><code>isTypeSupported</code>, static</dt><dd> Check to see whether a <code>MediaRecorder</code> can record in the specified Mime type. If true is returned from this method, it only indicates that the <code>MediaRecorder</code> implementation is capable of recording Blob objects for the specified MIME type. Recording may still fail if sufficient resources are not available to support the concrete media encoding. When this method is invoked, the User Agent must run the following steps:
     <ol class="method-algorithm">
      <li>If <code>type</code> is an empty string, then return false.</li>
      <li>If <code>type</code> does not contain a valid MIME type string, then return false.</li>
      <li>If <code>type</code> contains a media type or media subtype that the MediaRecorder does not support, then return false.</li>
      <li>If <code>type</code> contains a media container that the MediaSource does not support, then return false.</li>
      <li>If <code>type</code> contains a codec that the MediaSource does not support, then return false.</li>
      <li>If the MediaRecorder does not support the specified combination of media type/subtype, codecs and container then return false.</li>
      <li>Return true.</li>
     </ol>

     
    <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">type</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">A <a href="https://tools.ietf.org/html/rfc2046">Mime Type</a>, including parameters, specifying a container and/or codec formats for recording.</td></tr></tbody></table><div><em>Return type: </em><code>bool</code></div></dd><dt id="widl-MediaRecorder-pause-void"><code>pause</code></dt><dd>When a <code>MediaRecorder</code> object’s <code>pause()</code>method is invoked, the UA <em title="must" class="rfc2119">must</em> queue a task, using the DOM manipulation task source, that runs the following steps:
     <ol>
      <li>If <code>state</code> is "inactive" throw an <code>InvalidStateError</code> DOMException and terminate these steps.  Otherwise: </li>
      <li>Set <code>state</code> to "paused".</li>
      <li>Stop gathering data into its current Blob (but keep the Blob available so that recording can be resumed in the future).</li>
      <li>Fire a <code>pause</code> event </li>
     </ol>
    <div><em>No parameters.</em></div><div><em>Return type: </em><code>void</code></div></dd><dt id="widl-MediaRecorder-requestData-void"><code>requestData</code></dt><dd>When a <code>MediaRecorder</code>object’s <code>requestData()</code> method is invoked, the UA <em title="must" class="rfc2119">must</em> queue a task, using the DOM manipulation task source, that runs the following steps:
     <ol>
      <li>If <code>state</code> is not "recording" throw an <code>InvalidStateError</code> DOMException and terminate these steps. Otherwise:</li>
      <li>Fire a <code>dataavailable</code> event containing the current Blob of saved data. (Note that this Blob will be empty if no data has been gathered yet.)</li>
      <li>Create a new Blob and gather subsequent data into it.</li>
     </ol>
    <div><em>No parameters.</em></div><div><em>Return type: </em><code>void</code></div></dd><dt id="widl-MediaRecorder-resume-void"><code>resume</code></dt><dd>When a <code>MediaRecorder</code> object’s <code>resume()</code> method is invoked, the UA <em title="must" class="rfc2119">must</em> queue a task, using the DOM manipulation task source, that runs the following steps:
     <ol>
      <li>If <code>state</code> is "inactive" throw an <code>InvalidStateError</code> DOMException and terminate these steps.  Otherwise: </li>
      <li>Set <code>state</code> to "recording".</li>
      <li>Resume (or continue) gathering data into its current Blob.</li>
      <li>Fire a <code>resume</code> event.</li>
     </ol>
    <div><em>No parameters.</em></div><div><em>Return type: </em><code>void</code></div></dd><dt id="widl-MediaRecorder-start-void-long-timeslice"><code>start</code></dt><dd>When a <code>MediaRecorder</code> object’s <code>start()</code> method is invoked, the UA <em title="must" class="rfc2119">must</em> queue a task, using the DOM manipulation task source, that runs the following steps:
     <ol>
      <li>If the <code>state</code> is not "inactive", throw a <code>InvalidStateError</code> DOMException and terminate these steps. Otherwise:</li>
      <li>Set <code>state</code> to 'recording' and wait until media becomes available from <code>stream</code>.</li>
      <li>Once data becomes available fire a <code>start</code> event and start gathering the data into a Blob (see [<cite><a class="bibref" href="#bib-FILE-API">FILE-API</a></cite>]). </li>
      <li>If the <code>timeSlice</code> argument has been provided, then once <code>timeSlice</code> milliseconds of data have been colleced, or some minimum time slice imposed by the UA, whichever is greater, fire a <code>dataavailable</code> event containing the Blob of collected data, and start gathering a new Blob of data.  Otherwise (if <code>timeSlice</code> has not been provided), continue gathering data into the original Blob.</li>
      <li>When the <code>stream</code> is ended set <code>recording</code> to 'inactive' and stop gathering data. Callers <em title="should" class="rfc2119">should</em> not rely on exactness of the timeSlice value, especially if the timeSlice value is small. Callers <em title="should" class="rfc2119">should</em> consider timeSlice as a minimum value</li>
      <li>Then fire a <code>dataavailable</code> event containing the Blob of data.</li>
      <li>Finally, fire a <code>stop</code> event.</li>
     </ol>

     <p>Note that <code>stop()</code>, <code>requestData()</code>, and <code>pause()</code> also affect the recording behavior.</p>

     <p>The UA <em title="must" class="rfc2119">must</em> record the MediaStream in such a way that the original Tracks can be retrieved at playback time. When multiple Blobs are returned (because of <code>timeSlice</code> or <code>requestData</code>), the individual Blobs need not be playable, but the combination of all the Blobs from a completed recording <em title="must" class="rfc2119">must</em> be playable.  If any Track within the MediaStream is muted at any time (i.e., if its <code>readyState</code> is set to <code>muted</code>), the UA <em title="must" class="rfc2119">must</em> insert black frames or silence until the Track is unmuted. </p>

     <p> If at any point the <code>stream's</code> isolation properties change so that MediaRecorder is no longer allowed access to it, the UA <em title="must" class="rfc2119">must</em> stop recording, discard any data that it has gathered and throw a <code>SecurityError</code> DOMException followed by the <code>stop</code> event. If the UA is unable to start recording or at any point is unable to continue recording (i.e., for reasons other than a security violation), it <em title="must" class="rfc2119">must</em> throw an <code>UnknownError</code> DOMException, followed by a <code>dataavailable</code> event containing the Blob it has gathered, follwed by the <code>stop</code> event.</p>

     
    <table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">timeslice</td><td class="prmType"><code>long</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptTrue"><span role="img" aria-label="True">✔</span></td><td class="prmDesc"> The number of milliseconds of data to return in a single Blob. </td></tr></tbody></table><div><em>Return type: </em><code>void</code></div></dd><dt id="widl-MediaRecorder-stop-void"><code>stop</code></dt><dd>When a <code>MediaRecorder</code> object’s <code>stop</code> method is invoked, the UA <em title="must" class="rfc2119">must</em> queue a task, using the DOM manipulation task source, that runs the following steps:
     <ol>
      <li>If <code>state</code> is "inactive", throw a <code>InvalidStateError</code> DOMException and terminate these steps. Otherwise:</li>
      <li>Set <code>state</code> to 'inactive' and stop gathering data. </li>
      <li>Fire a <code>dataavailable</code> event containing the Blob of data that has been gathered.</li>
      <li>Fire a <code>stop</code> event</li>
     </ol>
    <div><em>No parameters.</em></div><div><em>Return type: </em><code>void</code></div></dd></dl></section>

  <section id="RecordingState" typeof="bibo:Chapter" resource="#RecordingState" property="bibo:hasPart"><h3 id="h-recordingstate" resource="#h-recordingstate"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.4 </span>RecordingState</span></h3>
   <pre class="idl"><span class="idlEnum" id="idl-def-RecordingState">enum <span class="idlEnumID">RecordingState</span> {
    "<a href="#idl-def-RecordingState.inactive" class="idlEnumItem">inactive</a>",
    "<a href="#idl-def-RecordingState.recording" class="idlEnumItem">recording</a>",
    "<a href="#idl-def-RecordingState.paused" class="idlEnumItem">paused</a>"
};</span></pre><table class="simple"><tbody><tr><th colspan="2">Enumeration description</th></tr><tr><td><code id="idl-def-RecordingState.inactive">inactive</code></td><td>Recording is not occuring. (Either it has not been started or it has been stopped.).</td></tr><tr><td><code id="idl-def-RecordingState.recording">recording</code></td><td>Recording has been started and the UA is capturing data..</td></tr><tr><td><code id="idl-def-RecordingState.paused">paused</code></td><td>Recording has been started, then paused, and not yet stopped or resumed.</td></tr></tbody></table>
  </section>
 </section>

<section id="blob-event" typeof="bibo:Chapter" resource="#blob-event" property="bibo:hasPart">
    <!--OddPage--><h2 id="h-blob-event" resource="#h-blob-event"><span property="xhv:role" resource="xhv:heading"><span class="secno">4. </span>Blob Event</span></h2>
    <pre class="idl"><span class="idlInterface" id="idl-def-BlobEvent">[<span class="idlCtor"> <span class="idlCtorKeyword"></span><span class="idlCtorName"><a href="#widl-ctor-BlobEvent--DOMString-type-required-BlobEventInit-eventInitDict">Constructor</a></span> (<span class="idlParam"><span class="idlParamType">DOMString</span> <span class="idlParamName">type</span></span>, <span class="idlParam"><span class="idlParamType">required BlobEventInit</span> <span class="idlParamName">eventInitDict</span></span>)</span>]
interface <span class="idlInterfaceID">BlobEvent</span> : <span class="idlSuperclass">Event</span> {
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType">Blob</span> <span class="idlAttrName"><a href="#widl-BlobEvent-data">data</a></span>;</span>
};</span></pre><section id="constructors-1" typeof="bibo:Chapter" resource="#constructors-1" property="bibo:hasPart"><h3 id="h-constructors-1" resource="#h-constructors-1"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.1 </span>Constructors</span></h3><dl class="constructors"><dt id="widl-ctor-BlobEvent--DOMString-type-required-BlobEventInit-eventInitDict"><code>BlobEvent</code></dt><dd><table class="parameters"><tbody><tr><th>Parameter</th><th>Type</th><th>Nullable</th><th>Optional</th><th>Description</th></tr><tr><td class="prmName">type</td><td class="prmType"><code>DOMString</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">Associated <a href="https://dom.spec.whatwg.org/#interface-event">Event type.</a></td></tr><tr><td class="prmName">eventInitDict</td><td class="prmType"><code>required BlobEventInit</code></td><td class="prmNullFalse"><span role="img" aria-label="False">✘</span></td><td class="prmOptFalse"><span role="img" aria-label="False">✘</span></td><td class="prmDesc">An initializer whose <code>data</code> field will be used to initialize the attribute of the same name.</td></tr></tbody></table></dd></dl></section><section id="attributes-1" typeof="bibo:Chapter" resource="#attributes-1" property="bibo:hasPart"><h3 id="h-attributes-1" resource="#h-attributes-1"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2 </span>Attributes</span></h3><dl class="attributes"><dt id="widl-BlobEvent-data"><code>data</code> of type <span class="idlAttrType">Blob</span>, readonly       </dt><dd>Returns a Blob object whose type attribute indicates the encoding of the blob data.</dd></dl></section>


    <h2 id="blobeventinit">BlobEventInit</h2>
    <pre class="idl"><span class="idlDictionary" id="idl-def-BlobEventInit">dictionary <span class="idlDictionaryID">BlobEventInit</span> {
<span class="idlMember">             <span class="idlMemberType">Blob</span> <span class="idlMemberName"><a href="#widl-BlobEventInit-data">data</a></span>;</span>
};</span></pre><section id="dictionary-blobeventinit-members" typeof="bibo:Chapter" resource="#dictionary-blobeventinit-members" property="bibo:hasPart"><h3 id="h-dictionary-blobeventinit-members" resource="#h-dictionary-blobeventinit-members"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3 </span>Dictionary <a class="idlType" href="#idl-def-BlobEventInit"><code>BlobEventInit</code></a> Members</span></h3><dl class="dictionary-members"><dt id="widl-BlobEventInit-data"><code>data</code> of type <span class="idlMemberType">Blob</span></dt><dd>A Blob object containing the data to deliver via this event.</dd></dl></section>
</section>

<section id="properties" typeof="bibo:Chapter" resource="#properties" property="bibo:hasPart">
        <!--OddPage--><h2 id="h-properties" resource="#h-properties"><span property="xhv:role" resource="xhv:heading"><span class="secno">5. </span>MediaRecorder  Properties</span></h2>
        <p>
          [TO DO: Provide API surface to set and read these. When that is done,
          this section will be removed.]
          </p>
     <table class="simple">
        <thead>
          <tr>
            <th>Property Name</th>
            <th>Values</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr id="def-property-MimeType">
            <td>MimeType</td>
            <td><code>DOMString</code></td>
            <td> The MIME type that was be selected as the container for recording. This entry includes all the parameters to the base MimeType.
                The UA should be able to play back any of the MIME types it supports for recording. For example, it should be able to display a video recording in the HTML &lt;video&gt; tag.
                The default value for this property is platform-specific.</td>
          </tr>
                   <tr id="def-property-BitRate">
            <td>BitRate</td>
            <td><code>long</code></td>
            <td> The bitrate type that was selected as for recording. The default
                value for this property is platform-specific.</td>
          </tr>
            <tr id="def-property-IgnoreMutedMedia">
            <td>ignoreMutedMedia</td>
            <td><code>boolean</code></td>
            <td> If this property is set to 'true', the MediaRecorder should stop
                recording when the MediaStream is muted.  If it is false, the
                MediaRecorder should record silence (for audio) or black frames(for video)
                when the source MediaStream is muted.  The default value for this
                property is true.</td>
          </tr>





        </tbody>
      </table>
        </section>


 <section id="error-handling" typeof="bibo:Chapter" resource="#error-handling" property="bibo:hasPart"> <!--OddPage--><h2 id="h-error-handling" resource="#h-error-handling"><span property="xhv:role" resource="xhv:heading"><span class="secno">6. </span>Error Handling</span></h2>

  <section id="general-principles" typeof="bibo:Chapter" resource="#general-principles" property="bibo:hasPart"> <h3 id="h-general-principles" resource="#h-general-principles"><span property="xhv:role" resource="xhv:heading"><span class="secno">6.1 </span>General Principles</span></h3>

   <p>The UA <em title="must" class="rfc2119">must</em> throw a <a href=" https://heycam.github.io/webidl/#idl-DOMException">DOMException</a> (see [<cite><a class="bibref" href="#bib-DOM4">DOM4</a></cite>]) when the error can be detected at the time that the call is made. In all other cases, a <code>MediaRecorderErrorEvent</code> <em title="must" class="rfc2119">must</em> be fired. The error name <em title="must" class="rfc2119">must</em> be picked from the <code>RecordingErrorName</code> enums. </p>

   <p>If recording has been started and not yet stopped when the error occurs, then after raising the error, the UA <em title="must" class="rfc2119">must</em> fire a <code>dataavailable</code> event, containing any data that it has gathered, and then a <code>stop</code> event. The UA may set platform-specific limits, such as those for the minimum and maximum Blob size that it will support, or the number of Tracks it will record at once.  It must signal a fatal error if these limits are exceeded. </p>
  </section>

  <section id="MediaRecorderErrorEvent" typeof="bibo:Chapter" resource="#MediaRecorderErrorEvent" property="bibo:hasPart"> <h3 id="h-mediarecordererrorevent" resource="#h-mediarecordererrorevent"><span property="xhv:role" resource="xhv:heading"><span class="secno">6.2 </span>MediaRecorderErrorEvent</span></h3>
   <pre class="idl"><span class="idlInterface" id="idl-def-MediaRecorderErrorEvent">interface <span class="idlInterfaceID">MediaRecorderErrorEvent</span> : <span class="idlSuperclass">Event</span> {
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType"><a href="#idl-def-RecordingErrorName" class="idlType"><code>RecordingErrorName</code></a></span> <span class="idlAttrName"><a href="#widl-MediaRecorderErrorEvent-name">name</a></span>;</span>
<span class="idlAttribute">    readonly        attribute <span class="idlAttrType">DOMString?</span>         <span class="idlAttrName"><a href="#widl-MediaRecorderErrorEvent-message">message</a></span>;</span>
};</span></pre><section id="attributes-2" typeof="bibo:Chapter" resource="#attributes-2" property="bibo:hasPart"><h4 id="h-attributes-2" resource="#h-attributes-2"><span property="xhv:role" resource="xhv:heading"><span class="secno">6.2.1 </span>Attributes</span></h4><dl class="attributes"><dt id="widl-MediaRecorderErrorEvent-message"><code>message</code> of type <span class="idlAttrType">DOMString</span>, readonly       , nullable</dt><dd>A UA-dependent string offering extra human-readable information about the error.</dd><dt id="widl-MediaRecorderErrorEvent-name"><code>name</code> of type <span class="idlAttrType"><a href="#idl-def-RecordingErrorName" class="idlType"><code>RecordingErrorName</code></a></span>, readonly       </dt><dd>The name of the error</dd></dl></section>
  </section>

  <section id="recordingerrorname" typeof="bibo:Chapter" resource="#recordingerrorname" property="bibo:hasPart"> <h3 id="h-recordingerrorname" resource="#h-recordingerrorname"><span property="xhv:role" resource="xhv:heading"><span class="secno">6.3 </span>RecordingErrorName</span></h3>
   <pre class="idl"><span class="idlEnum" id="idl-def-RecordingErrorName">enum <span class="idlEnumID">RecordingErrorName</span> {
    "<a href="#idl-def-RecordingErrorName.xInvalidState" class="idlEnumItem">InvalidState</a>",
    "<a href="#idl-def-RecordingErrorName.xOutOfMemory" class="idlEnumItem">OutOfMemory</a>",
    "<a href="#idl-def-RecordingErrorName.xIllegalStreamModification" class="idlEnumItem">IllegalStreamModification</a>",
    "<a href="#idl-def-RecordingErrorName.xSecurityError" class="idlEnumItem">SecurityError</a>",
    "<a href="#idl-def-RecordingErrorName.xOtherRecordingError" class="idlEnumItem">OtherRecordingError</a>"
};</span></pre><table class="simple"><tbody><tr><th colspan="2">Enumeration description</th></tr><tr><td><code id="idl-def-RecordingErrorName.xInvalidState">InvalidState</code></td><td>The <code>MediaRecorder</code> is not in a state in which the proposed operation is allowed to be executed.</td></tr><tr><td><code id="idl-def-RecordingErrorName.xOutOfMemory">OutOfMemory</code></td><td>The UA has exhaused the available memory. User agents <em class="rfc2119" title="SHOULD">SHOULD</em> provide as much additional information as possible in the <code>message</code> attribute.</td></tr><tr><td><code id="idl-def-RecordingErrorName.xIllegalStreamModification">IllegalStreamModification</code></td><td>A modification to the <code>stream</code> has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents <em class="rfc2119" title="SHOULD">SHOULD</em> provide as much additional information  as possible in the <code>message</code> attribute.</td></tr><tr><td><code id="idl-def-RecordingErrorName.xSecurityError">SecurityError</code></td><td>The isolation properties of the MediaStream do not allow the MediaRecorder access to it.</td></tr><tr><td><code id="idl-def-RecordingErrorName.xOtherRecordingError">OtherRecordingError</code></td><td>Used for an fatal error other than those listed above.  User agents <em class="rfc2119" title="SHOULD">SHOULD</em> provide as much additional information as possible in the <code>message</code> attribute.</td></tr></tbody></table>
  </section>


  <section id="exception-summary" class="informative" typeof="bibo:Chapter" resource="#exception-summary" property="bibo:hasPart"><h3 id="h-exception-summary" resource="#h-exception-summary"><span property="xhv:role" resource="xhv:heading"><span class="secno">6.4 </span>Exception summary</span></h3><p><em>This section is non-normative.</em></p>

   <p> Each of the exceptions defined in this document is a <a href="http://www.w3.org/TR/2012/WD-dom-20121206/#exception-domexception"><code>DOMException</code></a> with a specific type. The exception types and properties such as code value are defined in [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>]. </p>

    <table class="vert">
      <thead>
        <tr><th>Name</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><code>InvalidStateError</code></td>
          <td> An operation was called on an object on which it is not allowed or at a time when it is not allowed, or if a request is made on a source object that has been deleted or removed. </td>
        </tr>
        <tr>
          <td><code>UnknownError</code></td>
          <td>The operation failed for an unknown transient reason (e.g. out of memory), or a modification to the <code>stream</code> has occurred that makes it impossible to continue recording (e.g. a Track has been added while recording is occurring). User agents should provide as much additional information as possible in the <code>message</code> attribute.
          </td>
        </tr>
        <tr>
          <td><code>NotSupportedError</code></td>
          <td>A <a class="idlType" href="#idl-def-MediaRecorder"><code>MediaRecorder</code></a> could not be created due to unsupported options (e.g. mime type) specification. User agents should provide as much additional information  as possible in the <code>message</code> attribute.</td>
        </tr>
        <tr>
          <td><code>SecurityError</code></td>
          <td>The isolation properties of the MediaStream do not allow the MediaRecorder access to it.</td>
        </tr>
      </tbody>
    </table>
  </section>
 </section>

 <section id="event-summary" class="informative" typeof="bibo:Chapter" resource="#event-summary" property="bibo:hasPart">
  <!--OddPage--><h2 id="h-event-summary" resource="#h-event-summary"><span property="xhv:role" resource="xhv:heading"><span class="secno">7. </span>Event summary</span></h2><p><em>This section is non-normative.</em></p>
  <p>The following additional events fire on <code><a class="idlType" href="#idl-def-MediaRecorder"><code>MediaRecorder</code></a></code> objects:</p>

  <table class="vert">
      <thead>
        <tr><th>Event name</th><th>Interface</th><th>Fired when...</th></tr>
      </thead><tbody>
        <tr>
          <td><dfn id="event-mediarecorder-start" data-dfn-type="dfn"><code>start</code></dfn></td>
          <td><code>Event</code></td>
          <td>The UA has started recording data on the MediaStream.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediarecorder-stop" data-dfn-type="dfn"><code>stop</code></dfn></td>
          <td><code>Event</code></td>
          <td>The UA has stopped recording data on the MediaStream.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediarecorder-dataavailable" data-dfn-type="dfn"><code>dataavailable</code></dfn></td>
          <td><a href="#idl-def-BlobEvent"><code>BlobEvent</code></a></td>
          <td>The UA generates this even to return data to the application.  The 'data' attribute of this event contains a Blob of recorded data.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediarecorder-pause" data-dfn-type="dfn"><code>pause</code></dfn></td>
          <td><code>Event</code></td>
          <td>The UA has paused recording data on the MediaStream.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediarecorder-resume" data-dfn-type="dfn"><code>resume</code></dfn></td>
          <td><code>Event</code></td>
          <td>The UA has resumed recording data on the MediaStream.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediarecorder-DOMError" data-dfn-type="dfn"><code>DOMError</code></dfn></td>
          <td><a href="http://www.w3.org/TR/2012/WD-dom-20121206/#interface-domerror"><code>DOMError</code></a></td>
          <td>A fatal error has occurred and the UA has stopped recording. More detailed error information is available in the 'message' attribute. </td>
        </tr>
      </tbody>
    </table>
  </section>

   <section id="change-log" typeof="bibo:Chapter" resource="#change-log" property="bibo:hasPart">
      <!--OddPage--><h2 id="h-change-log" resource="#h-change-log"><span property="xhv:role" resource="xhv:heading"><span class="secno">8. </span>Change Log</span></h2>
          <p>This section will be removed before publication.</p>
          <h2 id="changes-since-october-6-2014">Changes since October 6, 2014</h2>
      <ol>
          <li>Correct statement about Patent Policy.</li>
          <li>Add MediaRecorderErrorEvent, remove reference to DOMError.</li>
          <li>Removed [TreatUndefinedAs=Missing] from Media Recorder IDL.</li>
          <li>Added missing constructor parameters to BlobEvent constructor.</li>
          <li>Updated Editors.</li>
          <li>Removed [NoInterfaceObject] from MediaRecorderErrorEvent.</li>
          <li>Removed unused RecordingExceptionEnum.</li>
          <li>Removed suffix Enum of RecordingStateEnum and RecordingErrorNameEnum.</li>
          <li>Corrected references to DOMExceptions where it used to say (MediaRecorderError)Events.</li>
      </ol>
    </section>
  
<section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart"><!--OddPage--><h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A. </span>References</span></h2><section id="normative-references" typeof="bibo:Chapter" resource="#normative-references" property="bibo:hasPart"><h3 id="h-normative-references" resource="#h-normative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">A.1 </span>Normative references</span></h3><dl class="bibliography" resource=""><dt id="bib-DOM4">[DOM4]</dt><dd>Anne van Kesteren; Aryeh Gregor; Ms2ger; Alex Russell; Robin Berjon. <a href="http://www.w3.org/TR/dom/" property="dc:requires"><cite>W3C DOM4</cite></a>. 19 November 2015. W3C Recommendation. URL: <a href="http://www.w3.org/TR/dom/" property="dc:requires">http://www.w3.org/TR/dom/</a>
</dd><dt id="bib-FILE-API">[FILE-API]</dt><dd>Arun Ranganathan; Jonas Sicking. <a href="http://www.w3.org/TR/FileAPI/" property="dc:requires"><cite>File API</cite></a>. 21 April 2015. W3C Working Draft. URL: <a href="http://www.w3.org/TR/FileAPI/" property="dc:requires">http://www.w3.org/TR/FileAPI/</a>
</dd><dt id="bib-GETUSERMEDIA">[GETUSERMEDIA]</dt><dd>Daniel Burnett; Adam Bergkvist; Cullen Jennings; Anant Narayanan. <a href="http://www.w3.org/TR/mediacapture-streams/" property="dc:requires"><cite>Media Capture and Streams</cite></a>. 14 April 2015. W3C Last Call Working Draft. URL: <a href="http://www.w3.org/TR/mediacapture-streams/" property="dc:requires">http://www.w3.org/TR/mediacapture-streams/</a>
</dd><dt id="bib-WEBIDL">[WEBIDL]</dt><dd>Cameron McCormack; Boris Zbarsky. <a href="http://www.w3.org/TR/WebIDL-1/" property="dc:requires"><cite>WebIDL Level 1</cite></a>. 4 August 2015. W3C Working Draft. URL: <a href="http://www.w3.org/TR/WebIDL-1/" property="dc:requires">http://www.w3.org/TR/WebIDL-1/</a>
</dd></dl></section></section></body></html>
